<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>IAN&#39;s Blog</title>
  
  <subtitle>寧可一思進，莫在一思停。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://javaok1987.github.io/"/>
  <updated>2019-09-25T07:11:41.243Z</updated>
  <id>https://javaok1987.github.io/</id>
  
  <author>
    <name>Ian Liao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>防止 jQuery 重複提交 Ajax 請求</title>
    <link href="https://javaok1987.github.io/2018/05/31/ajax-prefilter/"/>
    <id>https://javaok1987.github.io/2018/05/31/ajax-prefilter/</id>
    <published>2018-05-31T05:46:32.000Z</published>
    <updated>2019-09-25T07:11:41.243Z</updated>
    
    <content type="html"><![CDATA[<p>jQuery.ajaxPrefilter() 是 jQuery 中的 Ajax 前置過濾器，可以用來前置處理關於 Ajax 的相關設定 (option).</p><a id="more"></a><h4 id="sample-code"><a href="#sample-code" class="headerlink" title="sample code"></a>sample code</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pendingRequests = &#123;&#125;;</span><br><span class="line"><span class="comment">// 所有ajax請求的通用前置filter</span></span><br><span class="line">$.ajaxPrefilter(<span class="function"><span class="keyword">function</span>(<span class="params"> options, originalOptions, jqXHR </span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> key = options.url;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 請求是否已經存在.</span></span><br><span class="line">    <span class="keyword">if</span> (!pendingRequests[key]) &#123;</span><br><span class="line">        pendingRequests[key] = jqXHR;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//如果ajax請求已經存在，下一次相同的請求則取消，防止重複請求</span></span><br><span class="line">        <span class="comment">// 1. 放棄後觸發的提交</span></span><br><span class="line">        jqXHR.abort();</span><br><span class="line">        <span class="comment">// or</span></span><br><span class="line">        <span class="comment">// 2. 放棄先觸發的提交</span></span><br><span class="line">        <span class="comment">//pendingRequests[key].abort();  </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ajax請求完成時，從臨時對象中清除請求對應的數據.</span></span><br><span class="line">    <span class="keyword">var</span> complete = options.complete;</span><br><span class="line">    options.complete = <span class="function"><span class="keyword">function</span>(<span class="params">jqXHR, textStatus</span>) </span>&#123;</span><br><span class="line">        pendingRequests[key] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> ($.isFunction(complete)) &#123;</span><br><span class="line">        complete.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><div class="tip">捕捉 abort 的異常信息</div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ajax = $.ajax(&#123;</span><br><span class="line">    <span class="string">'error'</span>:<span class="function"><span class="keyword">function</span>(<span class="params">jqXHR, textStatus, errorThrown</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(errorThrown != <span class="string">'abort'</span>)&#123;</span><br><span class="line">            <span class="comment">//ajax被調用abort後執行的方法</span></span><br><span class="line">            alert(<span class="string">'您的ajax方法被停止了'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr><h4 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h4><ul><li><a href="http://api.jquery.com/jquery.ajaxprefilter/" target="_blank" rel="noopener">jQuery.ajaxPrefilter()</a></li><li><a href="https://www.oudahe.com/p/1283/" target="_blank" rel="noopener">jQuery如何防止Ajax重複提交</a></li><li><a href="http://www.hollischuang.com/archives/931" target="_blank" rel="noopener">防止重複發送 Ajax 請求的解決方案</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;jQuery.ajaxPrefilter() 是 jQuery 中的 Ajax 前置過濾器，可以用來前置處理關於 Ajax 的相關設定 (option).&lt;/p&gt;
    
    </summary>
    
    
      <category term="jQuery" scheme="https://javaok1987.github.io/categories/jquery/"/>
    
    
      <category term="js" scheme="https://javaok1987.github.io/tags/js/"/>
    
      <category term="jQuery" scheme="https://javaok1987.github.io/tags/jquery/"/>
    
      <category term="tips" scheme="https://javaok1987.github.io/tags/tips/"/>
    
      <category term="ajax" scheme="https://javaok1987.github.io/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>Get URL Parameters With JavaScript</title>
    <link href="https://javaok1987.github.io/2018/01/16/get-url-parameters-with-javascript/"/>
    <id>https://javaok1987.github.io/2018/01/16/get-url-parameters-with-javascript/</id>
    <published>2018-01-16T03:30:00.000Z</published>
    <updated>2019-09-25T07:14:06.674Z</updated>
    
    <content type="html"><![CDATA[<p>擷取網址列所帶參數</p><a id="more"></a><h3 id="JavaScript-Pure"><a href="#JavaScript-Pure" class="headerlink" title="JavaScript Pure:"></a>JavaScript Pure:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getParameterByName</span>(<span class="params">name, url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!url) url = <span class="built_in">window</span>.location.href;</span><br><span class="line">    name = name.replace(<span class="regexp">/[\[\]]/g</span>, <span class="string">"\\$&amp;"</span>);</span><br><span class="line">    <span class="keyword">var</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[?&amp;]"</span> + name + <span class="string">"(=([^&amp;#]*)|&amp;|#|$)"</span>),</span><br><span class="line">        results = regex.exec(url);</span><br><span class="line">    <span class="keyword">if</span> (!results) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (!results[<span class="number">2</span>]) <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">decodeURIComponent</span>(results[<span class="number">2</span>].replace(<span class="regexp">/\+/g</span>, <span class="string">" "</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Usage"><a href="#Usage" class="headerlink" title="Usage:"></a>Usage:</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// query string: ?foo=lorem&amp;bar=&amp;baz</span></span><br><span class="line"><span class="keyword">var</span> foo = getParameterByName(<span class="string">'foo'</span>); <span class="comment">// "lorem"</span></span><br><span class="line"><span class="keyword">var</span> bar = getParameterByName(<span class="string">'bar'</span>); <span class="comment">// "" (present with empty value)</span></span><br><span class="line"><span class="keyword">var</span> baz = getParameterByName(<span class="string">'baz'</span>); <span class="comment">// "" (present with no value)</span></span><br><span class="line"><span class="keyword">var</span> qux = getParameterByName(<span class="string">'qux'</span>); <span class="comment">// null (absent)</span></span><br></pre></td></tr></table></figure><h3 id="ES2015-ES6"><a href="#ES2015-ES6" class="headerlink" title="ES2015 (ES6)"></a>ES2015 (ES6)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getParams = <span class="function"><span class="params">query</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!query) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (<span class="regexp">/^[?#]/</span>.test(query) ? query.slice(<span class="number">1</span>) : query)</span><br><span class="line">    .split(<span class="string">'&amp;'</span>)</span><br><span class="line">    .reduce(<span class="function">(<span class="params">params, param</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> [ key, value ] = param.split(<span class="string">'='</span>);</span><br><span class="line">      params[key] = value ? <span class="built_in">decodeURIComponent</span>(value.replace(<span class="regexp">/\+/g</span>, <span class="string">' '</span>)) : <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">return</span> params;</span><br><span class="line">    &#125;, &#123; &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage:"></a>Usage:</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// query string: ?foo=lorem&amp;bar=&amp;baz</span><br><span class="line">&#123;<span class="attr">"foo"</span>: <span class="string">"lorem"</span>, <span class="attr">"bar"</span>: <span class="string">""</span>, <span class="attr">"baz"</span>: <span class="string">""</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="JQuery-Plugin"><a href="#JQuery-Plugin" class="headerlink" title="JQuery Plugin:"></a>JQuery Plugin:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $.QueryString = (<span class="function"><span class="keyword">function</span>(<span class="params">paramsArray</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> params = &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; paramsArray.length; ++i)&#123;</span><br><span class="line">            <span class="keyword">let</span> param = paramsArray[i].split(<span class="string">'='</span>, <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">if</span> (param.length !== <span class="number">2</span>)<span class="keyword">continue</span>;</span><br><span class="line">            params[param[<span class="number">0</span>]] = <span class="built_in">decodeURIComponent</span>(param[<span class="number">1</span>].replace(<span class="regexp">/\+/g</span>, <span class="string">" "</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> params;</span><br><span class="line">    &#125;)(<span class="built_in">window</span>.location.search.substr(<span class="number">1</span>).split(<span class="string">'&amp;'</span>))</span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure><h4 id="Usage-2"><a href="#Usage-2" class="headerlink" title="Usage:"></a>Usage:</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// query string: ?foo=aaa&amp;bar=&amp;baz</span></span><br><span class="line"><span class="keyword">var</span> foo = $.QueryString[<span class="string">'foo'</span>]; <span class="comment">// "lorem"</span></span><br><span class="line"><span class="keyword">var</span> bar = $.QueryString[<span class="string">'bar'</span>]; <span class="comment">// undefined</span></span><br><span class="line">alert(foo);</span><br></pre></td></tr></table></figure><h3 id="URLSearchParams-API"><a href="#URLSearchParams-API" class="headerlink" title="URLSearchParams API:"></a>URLSearchParams API:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> params = <span class="keyword">new</span> URL(<span class="string">'https://example.com?foo=1&amp;bar=2'</span>).searchParams;</span><br><span class="line">params.get(<span class="string">'foo'</span>); <span class="comment">// "1"</span></span><br><span class="line">params.get(<span class="string">'bar'</span>); <span class="comment">// "2"</span></span><br></pre></td></tr></table></figure><div class="tip">  Browser support:  ![URLSearchParams API](/images/URLSearchParams_API_support.png)</div><h3 id="Clean-QueryString"><a href="#Clean-QueryString" class="headerlink" title="Clean QueryString"></a>Clean QueryString</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> removeQueryString = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">window</span>.history.history.pushState(<span class="string">''</span>, <span class="built_in">document</span>.title, <span class="built_in">window</span>.location.pathname);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h4><ul><li><a href="https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript" target="_blank" rel="noopener">How can I get query string values in JavaScript?</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener">URLSearchParams API </a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;擷取網址列所帶參數&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS" scheme="https://javaok1987.github.io/categories/js/"/>
    
    
      <category term="js" scheme="https://javaok1987.github.io/tags/js/"/>
    
      <category term="jQuery" scheme="https://javaok1987.github.io/tags/jquery/"/>
    
      <category term="querystring" scheme="https://javaok1987.github.io/tags/querystring/"/>
    
  </entry>
  
  <entry>
    <title>Auto Click Button on Page Load</title>
    <link href="https://javaok1987.github.io/2017/10/19/jquery-auto-click/"/>
    <id>https://javaok1987.github.io/2017/10/19/jquery-auto-click/</id>
    <published>2017-10-19T07:01:16.000Z</published>
    <updated>2019-09-25T07:13:59.288Z</updated>
    
    <content type="html"><![CDATA[<p>在網頁載入時自動按下按鈕或連結，執行 <code>click</code> 事件。</p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"my-button"</span> <span class="attr">onclick</span>=<span class="string">"alert('je ne veux pas travailler.');"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="JQuery"><a href="#JQuery" class="headerlink" title="JQuery"></a>JQuery</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jQuery(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   jQuery(<span class="string">'#my-button'</span>).trigger(<span class="string">'click'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jQuery(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   jQuery(<span class="string">'#my-button'</span>).click();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="JavaScript-Pure"><a href="#JavaScript-Pure" class="headerlink" title="JavaScript Pure:"></a>JavaScript Pure:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'my-button'</span>).click();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在網頁載入時自動按下按鈕或連結，執行 &lt;code&gt;click&lt;/code&gt; 事件。&lt;/p&gt;
    
    </summary>
    
    
      <category term="jQuery" scheme="https://javaok1987.github.io/categories/jquery/"/>
    
    
      <category term="js" scheme="https://javaok1987.github.io/tags/js/"/>
    
      <category term="jQuery" scheme="https://javaok1987.github.io/tags/jquery/"/>
    
  </entry>
  
  <entry>
    <title>Responsive Web Design (RWD) 和 Adaptive Web Design (AWD)</title>
    <link href="https://javaok1987.github.io/2017/10/18/responsive-and-adaptive/"/>
    <id>https://javaok1987.github.io/2017/10/18/responsive-and-adaptive/</id>
    <published>2017-10-18T04:00:00.000Z</published>
    <updated>2019-09-25T03:53:00.302Z</updated>
    
    <content type="html"><![CDATA[<p><code>RWD</code> 和 <code>AWD</code> 的出現都是由於移動上網設備日益普及，針對不同設備(尤其考慮不同屏幕尺寸)及其使用條件(通常有比較低的頻寬，流量和性能等) 對網頁作出優化，以帶來更好的用戶體驗。</p><a id="more"></a><h3 id="Responsive-Website-Design-RWD，自適應網頁設計"><a href="#Responsive-Website-Design-RWD，自適應網頁設計" class="headerlink" title="Responsive Website Design (RWD，自適應網頁設計)"></a>Responsive Website Design (RWD，自適應網頁設計)</h3><p>  在 Client 端偵測瀏覽器視窗大小，配合如流體佈局和可以自適應的圖片/視頻等技術，使頁面只需同一套程式碼，就能夠適應不同屏幕尺寸的技術。</p><p>  但由於單一網頁內要處理各種尺寸裝置的關係，必須包含所有版型需要的資源，網頁檔案會較肥大；或者是小螢幕卻用高解析度的圖檔顯示，導致下載速度過慢。</p><h3 id="Adaptive-Web-Design-AWD"><a href="#Adaptive-Web-Design-AWD" class="headerlink" title="Adaptive Web Design (AWD)"></a>Adaptive Web Design (AWD)</h3><p>  經由 Server 端判斷來源後，針對不同的 Client 設備來增減內容和外觀以提高適應性和用戶體驗。這種方式可以針對個別裝置設計單獨的資源。例如針對小螢幕設計的 HTML 檔、低解析度的圖檔…等等，檔案內容不必包山包海，下載速度較快。</p><p>  但也也為要針對不同裝置設計不同的流程，相對起來相對費工。</p><div class="tip">     可以在這個網站 [Liquidapsive](http://www.liquidapsive.com/) 切換 RWD、AWD、Liquid、Static...等四種不同 layout 效果。</div><h4 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h4><ul><li><a href="http://www.liquidapsive.com/" target="_blank" rel="noopener">Liquidapsive (Liqui-dap-sive)</a></li><li><a href="http://www.xenyomedia.com/blog/134/responsive-web-design-rwd-%E5%92%8C-adaptive-web-design-awd" target="_blank" rel="noopener">Responsive Web Design (RWD) 和 Adaptive Web Design (AWD)</a></li><li><a href="http://iki0723.blogspot.tw/2012/11/combining-responsive-and-adaptive.html" target="_blank" rel="noopener">[摘要]Combining Responsive and Adaptive Strategies to Solve Mobile Design Challenges</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;RWD&lt;/code&gt; 和 &lt;code&gt;AWD&lt;/code&gt; 的出現都是由於移動上網設備日益普及，針對不同設備(尤其考慮不同屏幕尺寸)及其使用條件(通常有比較低的頻寬，流量和性能等) 對網頁作出優化，以帶來更好的用戶體驗。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Web" scheme="https://javaok1987.github.io/categories/web/"/>
    
    
      <category term="RWD" scheme="https://javaok1987.github.io/tags/rwd/"/>
    
      <category term="AWD" scheme="https://javaok1987.github.io/tags/awd/"/>
    
      <category term="自適應網頁設計" scheme="https://javaok1987.github.io/tags/%E8%87%AA%E9%81%A9%E6%87%89%E7%B6%B2%E9%A0%81%E8%A8%AD%E8%A8%88/"/>
    
      <category term="Media Queries" scheme="https://javaok1987.github.io/tags/media-queries/"/>
    
  </entry>
  
  <entry>
    <title>How to Control Your YouTube Videos - YouTube Player API</title>
    <link href="https://javaok1987.github.io/2017/10/12/youtube-iframe-player-api/"/>
    <id>https://javaok1987.github.io/2017/10/12/youtube-iframe-player-api/</id>
    <published>2017-10-12T08:51:18.000Z</published>
    <updated>2019-09-25T07:14:48.967Z</updated>
    
    <content type="html"><![CDATA[<p>使用 <a href="https://developers.google.com/youtube/iframe_api_reference" target="_blank" rel="noopener">YouTube Player API</a> 控制 <code>YouTube</code> 影片，包括自動播放、隱藏按鈕、隱藏影片標題、隱藏 YouTube Logo、循環播放…等。</p><a id="more"></a><h3 id="Step-1-載入-js"><a href="#Step-1-載入-js" class="headerlink" title="Step 1. 載入 js"></a>Step 1. 載入 js</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"player"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> initYoutubeVideo = <span class="function"><span class="keyword">function</span>(<span class="params">argument</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> tag = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">  tag.src = <span class="string">"https://www.youtube.com/iframe_api"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> firstScriptTag = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'script'</span>)[<span class="number">0</span>];</span><br><span class="line">  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="Step-2-設定-YouTube-影片參數"><a href="#Step-2-設定-YouTube-影片參數" class="headerlink" title="Step 2. 設定 YouTube 影片參數"></a>Step 2. 設定 YouTube 影片參數</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> onYouTubeIframeAPIReady = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> player = <span class="keyword">new</span> YT.Player(<span class="string">'player'</span>, &#123;</span><br><span class="line">    videoId: <span class="string">'YOUR_VIDEO_ID'</span>, <span class="comment">// YouTube 影片ID.</span></span><br><span class="line">    width: <span class="number">560</span>,               <span class="comment">// 播放器寬度 (px).</span></span><br><span class="line">    height: <span class="number">316</span>,              <span class="comment">// 播放器高度 (px).</span></span><br><span class="line">    playerVars: &#123;</span><br><span class="line">      rel: <span class="number">0</span>,                 <span class="comment">// 是否顯示片尾推薦影片.</span></span><br><span class="line">      autoplay: <span class="number">0</span>,            <span class="comment">// 是否在讀取時自動播放影片.</span></span><br><span class="line">      controls: <span class="number">1</span>,            <span class="comment">// 是否在播放器顯示暫停／播放按鈕.</span></span><br><span class="line">      showinfo: <span class="number">0</span>,            <span class="comment">// 是否隱藏影片標題.</span></span><br><span class="line">      modestbranding: <span class="number">0</span>,      <span class="comment">// 是否隱藏 YouTube Logo.</span></span><br><span class="line">      loop: <span class="number">0</span>,                <span class="comment">// 是否讓影片循環播放.</span></span><br><span class="line">      fs: <span class="number">0</span>,                  <span class="comment">// 是否隱藏全螢幕按鈕.</span></span><br><span class="line">      cc_load_policty: <span class="number">0</span>,     <span class="comment">// 是否隱藏字幕.</span></span><br><span class="line">      iv_load_policy: <span class="number">3</span>,      <span class="comment">// 是否隱藏影片註解.</span></span><br><span class="line">      autohide: <span class="number">0</span>             <span class="comment">// 是否在播放影片時隱藏影片控制列.</span></span><br><span class="line">    &#125;,</span><br><span class="line">    events: &#123;</span><br><span class="line">      onStateChange: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (event.data == YT.PlayerState.PLAYING) &#123;</span><br><span class="line">          <span class="comment">// 開始播放.</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>如果要做一些簡單的事件觸發或是監聽事件，可以在 <code>onStateChange</code> 裡設定。</p></blockquote><h4 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h4><ul><li><a href="https://developers.google.com/youtube/iframe_api_reference" target="_blank" rel="noopener">YouTube Player API Reference for iframe Embeds</a></li><li><a href="https://www.labnol.org/internet/embed-mute-youtube-video/29149/" target="_blank" rel="noopener">How to Embed a YouTube Video with Sound Muted</a></li><li><a href="https://free.com.tw/embed-a-youtube-video-with-sound-muted/" target="_blank" rel="noopener">如何嵌入 YouTube 影片設定自動重播、隱藏 Logo 或靜音播放？</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用 &lt;a href=&quot;https://developers.google.com/youtube/iframe_api_reference&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;YouTube Player API&lt;/a&gt; 控制 &lt;code&gt;YouTube&lt;/code&gt; 影片，包括自動播放、隱藏按鈕、隱藏影片標題、隱藏 YouTube Logo、循環播放…等。&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS" scheme="https://javaok1987.github.io/categories/js/"/>
    
    
      <category term="js" scheme="https://javaok1987.github.io/tags/js/"/>
    
      <category term="youtube" scheme="https://javaok1987.github.io/tags/youtube/"/>
    
  </entry>
  
  <entry>
    <title>CSS Note</title>
    <link href="https://javaok1987.github.io/2017/09/05/css-note/"/>
    <id>https://javaok1987.github.io/2017/09/05/css-note/</id>
    <published>2017-09-05T03:40:14.000Z</published>
    <updated>2019-09-25T07:13:14.401Z</updated>
    
    <content type="html"><![CDATA[<p>整理一些常常用到的 css 語法，方便之後切版使用。</p><a id="more"></a><ol><li><p>清單項目分隔線<br>在清單項目之間使用框線做分隔，用 item + item 避開第一個項目。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span> + <span class="selector-tag">li</span> &#123; <span class="attribute">border-top</span>: <span class="number">1px</span> solid black; &#125;</span><br></pre></td></tr></table></figure></li><li><p>圖片取代文字<br>因為瀏覽器會去渲染超大的寬度，所以不使用 <code>text-indent:-9999px;</code>語法，改用下列語法以增加效能。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hide-text</span> &#123;</span><br><span class="line">  <span class="attribute">text-indent</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>參考資料<br><a href="http://www.zeldman.com/2012/03/01/replacing-the-9999px-hack-new-image-replacement/" target="_blank" rel="noopener">REPLACING THE -9999PX HACK</a></p></blockquote></li><li><p>溢出文字省略變顯示省略符號 (…)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">overflow</span> : <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">text-overflow</span> : <span class="selector-tag">ellipsis</span>;</span><br><span class="line"><span class="selector-tag">white-space</span> : <span class="selector-tag">nowrap</span>;</span><br><span class="line"><span class="selector-tag">width</span> : 300<span class="selector-tag">px</span>;</span><br></pre></td></tr></table></figure></li><li><p>Clearfix 清除浮動</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line"><span class="attribute">display</span>:table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line"><span class="attribute">clear</span>:both;</span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">    <span class="attribute">zoom</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>iOS 的 scroll bar.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#C3C3C3</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;整理一些常常用到的 css 語法，方便之後切版使用。&lt;/p&gt;
    
    </summary>
    
    
      <category term="CSS" scheme="https://javaok1987.github.io/categories/css/"/>
    
    
      <category term="tips" scheme="https://javaok1987.github.io/tags/tips/"/>
    
      <category term="css" scheme="https://javaok1987.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Good Javascript Principles</title>
    <link href="https://javaok1987.github.io/2017/09/01/good-javascript-principles/"/>
    <id>https://javaok1987.github.io/2017/09/01/good-javascript-principles/</id>
    <published>2017-09-01T08:28:25.000Z</published>
    <updated>2019-09-25T07:13:40.725Z</updated>
    
    <content type="html"><![CDATA[<p>記錄一些平常開發應該注意的小地方…</p><a id="more"></a><ol><li><p>使用 var 關鍵字宣告變數<br>未宣告的變數會導致建立一個全域變數。</p></li><li><p>使用 <code>===</code>，而不是 <code>==</code><br>==（或!=）操作符在需要的時候會自動執行類型轉換，<br>===（或!==）操作不會執行任何轉換，而且在速度上也比較快。</p></li><li><p>使用 <code>for()</code> 替代 <code>for-in</code> 循環<br>for-in 會在每次跑循環時重算數據組的長度，執行效率較慢。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="built_in">Array</span>.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;...&#125;</span><br></pre></td></tr></table></figure></li><li><p>避免使用 <code>eval()</code><br>使用 eval 是非常昂貴的操作，且也會有安全性問題。</p></li><li><p>避免在循環內部使用 <code>try-catch</code><br>把 try-catch 語句放在循環外面，避免每次都要執行它們。</p></li><li><p>在呼叫 <code>setTimeout()</code> 和 <code>setInterval()</code> 的時候傳入函式<br>將函數的引用作為參數傳遞到 setTimeout() 和 setInterval() 裡 <code>setTimeout(someFunc, 1000)</code>，<br>優於將函數名作為字符串參數傳遞 <code>setTimeout(&#39;someFunc()&#39;, 1000)</code>。</p></li></ol><p>…to be continued</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;記錄一些平常開發應該注意的小地方…&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS" scheme="https://javaok1987.github.io/categories/js/"/>
    
    
      <category term="js" scheme="https://javaok1987.github.io/tags/js/"/>
    
      <category term="tips" scheme="https://javaok1987.github.io/tags/tips/"/>
    
  </entry>
  
  <entry>
    <title>Debounce &amp; Throttle Function</title>
    <link href="https://javaok1987.github.io/2017/08/30/js-throttle-debounce/"/>
    <id>https://javaok1987.github.io/2017/08/30/js-throttle-debounce/</id>
    <published>2017-08-30T06:42:42.000Z</published>
    <updated>2019-09-25T07:14:16.532Z</updated>
    
    <content type="html"><![CDATA[<p>一般綁定 DOM 事件(<code>resize</code>、<code>scroll</code>、<code>mousemove</code>和<code>keydown/keyup/keypress</code>等)的時候，常常會因為事件觸發的太頻繁而導致網頁效能低落。</p><p>所以我們可以在事件要執行前加一個控制器，降低事件的觸發頻率，最常使用的就是<code>debounce</code> 和 <code>throttle</code> 這兩個方法，兩者都是用來控制某個事件在一定時間內執行多少次數，看起來非常相似但又有些不同。</p><a id="more"></a><h3 id="Debounce"><a href="#Debounce" class="headerlink" title="Debounce"></a>Debounce</h3><p><strong>用戶停止某個操作一段時間之後才執行相應的監聽事件</strong><br>例如，調整瀏覽器視窗大小的時候，會觸發很多次 <code>resize</code> 事件，可以使用 debounce 方法在停止調整視窗大小的時候在去觸發相應功能。</p><p><img src="/images/debounce.gif" alt="Debounce"></p><h4 id="造輪子"><a href="#造輪子" class="headerlink" title="造輪子"></a>造輪子</h4><div class="tip">    觸發 -> 記錄觸發時間 -> 上次動作觸發時間大於限制時間 -> 執行動作</div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 強制一個事件在某個連續時間段內只執行一次.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param  &#123;function&#125; func        實際要執行的事件</span></span><br><span class="line"><span class="comment"> * @param  &#123;number&#125;   delay       延遲時間，單位是毫秒（ms）</span></span><br><span class="line"><span class="comment"> * @param  &#123;boolean&#125;  immediate   設置為ture時，觸發於開始而不是結束</span></span><br><span class="line"><span class="comment"> * @return &#123;function&#125;             返回客戶呼叫事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, delay, immediate</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> timer;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="keyword">this</span>,</span><br><span class="line">            args = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            timer = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">if</span> (!immediate) func.apply(context, args);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">var</span> callNow = immediate &amp;&amp; !timer;</span><br><span class="line">        clearTimeout(timer);</span><br><span class="line">        timer = setTimeout(later, delay);</span><br><span class="line">        <span class="keyword">if</span> (callNow) func.apply(context, args);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>參數 <code>immediate</code>，設定函數在一個時間區間的最開始(<code>true</code>)執行，還是最後(<code>false</code>)執行。</p></blockquote><h4 id="呼叫方式"><a href="#呼叫方式" class="headerlink" title="呼叫方式"></a>呼叫方式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handleScroll = debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">//  Do fun stuff​.</span></span><br><span class="line">&#125;, <span class="number">250</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, handleScroll);</span><br></pre></td></tr></table></figure><hr><h3 id="Throttle"><a href="#Throttle" class="headerlink" title="Throttle"></a>Throttle</h3><p><strong>控制監聽事件固定在每 X 毫秒內執行一次</strong><br>例如，不管滑鼠移動(<code>mousemove</code>事件)的速度多快，固定在每 250ms 執行一次。</p><p><img src="/images/throttle.gif" alt="Throttle"></p><h4 id="造輪子-1"><a href="#造輪子-1" class="headerlink" title="造輪子"></a>造輪子</h4><div class="tip">觸發 -> 上次動作執行時間大於限制時間 -> 執行動作，記錄執行時間</div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 固定事件執行的速率.</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* @param  &#123;function&#125; func    實際要執行的事件</span></span><br><span class="line"><span class="comment">* @param  &#123;number&#125;   delay   執行間隔，單位是毫秒（ms）</span></span><br><span class="line"><span class="comment">* @return &#123;function&#125;         返回一個「節流」事件</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">func, delay</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> last, timer;</span><br><span class="line">    delay || (delay = <span class="number">250</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="keyword">var</span> now = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        <span class="keyword">if</span> (last &amp;&amp; now &lt; last + delay) &#123;</span><br><span class="line">            clearTimeout(timer);</span><br><span class="line">            timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                last = now;</span><br><span class="line">                func.apply(context, args);</span><br><span class="line">            &#125;, delay);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            last = now;</span><br><span class="line">            func.apply(context, args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="呼叫方式-1"><a href="#呼叫方式-1" class="headerlink" title="呼叫方式"></a>呼叫方式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handleScroll = throttle(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">//  Do fun stuff​.</span></span><br><span class="line">&#125;, <span class="number">250</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, handleScroll);</span><br></pre></td></tr></table></figure><hr><h3 id="使用-Underscore-js-中的-debounce-和-throttle"><a href="#使用-Underscore-js-中的-debounce-和-throttle" class="headerlink" title="使用 Underscore.js 中的 _.debounce 和 _.throttle"></a>使用 Underscore.js 中的 <code>_.debounce</code> 和 <code>_.throttle</code></h3><p>不想重新造輪子的話可以直接使用 <a href="http://underscorejs.org/" target="_blank" rel="noopener">Underscore</a> 或 <a href="https://lodash.com/" target="_blank" rel="noopener">Lodash</a>。</p><p>另外可以使用 <code>Lodash</code> 的指令列工具，產生只有 <code>_.debounce</code> 和 <code>_.throttle</code> 的壓縮檔。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g lodash-cli</span><br><span class="line">lodash include = debounce, throttle</span><br></pre></td></tr></table></figure><h4 id="呼叫方式-2"><a href="#呼叫方式-2" class="headerlink" title="呼叫方式"></a>呼叫方式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).on(<span class="string">'scroll'</span>, _.debounce(doSomething, <span class="number">250</span>));</span><br><span class="line"></span><br><span class="line">$(<span class="built_in">window</span>).on(<span class="string">'scroll'</span>, _.throttle(doSomething, <span class="number">250</span>));</span><br></pre></td></tr></table></figure><hr><h4 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h4><ul><li><a href="https://css-tricks.com/debouncing-throttling-explained-examples/" target="_blank" rel="noopener">Debouncing and Throttling Explained Through Examples</a></li><li><a href="https://davidwalsh.name/javascript-debounce-function" target="_blank" rel="noopener">javascript-debounce-function</a></li><li><a href="http://hackll.com/2015/11/19/debounce-and-throttle/" target="_blank" rel="noopener">Debounce 和 Throttle 的原理及實現</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一般綁定 DOM 事件(&lt;code&gt;resize&lt;/code&gt;、&lt;code&gt;scroll&lt;/code&gt;、&lt;code&gt;mousemove&lt;/code&gt;和&lt;code&gt;keydown/keyup/keypress&lt;/code&gt;等)的時候，常常會因為事件觸發的太頻繁而導致網頁效能低落。&lt;/p&gt;
&lt;p&gt;所以我們可以在事件要執行前加一個控制器，降低事件的觸發頻率，最常使用的就是&lt;code&gt;debounce&lt;/code&gt; 和 &lt;code&gt;throttle&lt;/code&gt; 這兩個方法，兩者都是用來控制某個事件在一定時間內執行多少次數，看起來非常相似但又有些不同。&lt;/p&gt;
    
    </summary>
    
    
      <category term="JS" scheme="https://javaok1987.github.io/categories/js/"/>
    
    
      <category term="js" scheme="https://javaok1987.github.io/tags/js/"/>
    
      <category term="debounce" scheme="https://javaok1987.github.io/tags/debounce/"/>
    
      <category term="throttle" scheme="https://javaok1987.github.io/tags/throttle/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://javaok1987.github.io/2017/08/18/hello-world/"/>
    <id>https://javaok1987.github.io/2017/08/18/hello-world/</id>
    <published>2017-08-18T04:00:00.000Z</published>
    <updated>2019-09-25T03:53:00.301Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
</feed>
